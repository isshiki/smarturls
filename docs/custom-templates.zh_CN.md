# ğŸ“˜ SmartURLs æ¨¡æ¿æŒ‡å— (v1.4.0+)

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•ä½¿ç”¨ SmartURLs çš„è‡ªå®šä¹‰æ¨¡æ¿åŠŸèƒ½ã€‚
æ¨¡æ¿åœ¨**å•è¡Œè¾“å…¥å­—æ®µ**ä¸­ç¼–å†™ï¼Œä½†å¯ä»¥ä½¿ç”¨ `$nl` æ ‡è®°ç”Ÿæˆå¤šè¡Œè¾“å‡ºã€‚

SmartURLs æœ‰æ„ä¿æŒè½»é‡ã€‚å®ƒ**ä»ä¸è¯»å–ç½‘é¡µå†…å®¹**ï¼Œä»…ä½¿ç”¨ **URL å’Œæµè§ˆå™¨æ ‡ç­¾é¡µä¿¡æ¯**å·¥ä½œã€‚

## 1. åŸºæœ¬æ ‡è®°

SmartURLs ä¸¥æ ¼åŸºäºæ ‡ç­¾é¡µå…ƒæ•°æ®å’Œå½“å‰ URL æ›¿æ¢æ ‡è®°ã€‚

| æ ‡è®°           | æè¿°                                                                                  | ç¤ºä¾‹è¾“å‡º                                                                                |
| -------------- | ------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| `$title`       | æ ‡ç­¾é¡µä¸­æ˜¾ç¤ºçš„é¡µé¢æ ‡é¢˜                                                                | `Why the Moon?`                                                                         |
| `$title(html)` | HTML è½¬ä¹‰çš„é¡µé¢æ ‡é¢˜ï¼ˆå°† `&`ã€`<`ã€`>`ã€`"`ã€`'` è½¬æ¢ä¸ºå®ä½“ï¼‰ã€‚å¯å®‰å…¨ç”¨äº HTML æ ‡ç­¾/å±æ€§ã€‚ | `Rock &amp; Roll &lt;Best Hits&gt;`<br>*(æ ‡é¢˜ç¤ºä¾‹ï¼š"Rock & Roll \<Best Hits>")* |
| `$url`         | å®Œæ•´ URL                                                                              | `https://www.youtube.com/watch?v=bmC-FwibsZg`                                           |
| `$domain`    | ä»…ä¸»æœºå               | `www.youtube.com`                             |
| `$path`      | URL çš„è·¯å¾„éƒ¨åˆ†         | `/watch`                                      |
| `$basename`  | è·¯å¾„çš„æœ€åä¸€æ®µ         | `watch`                                       |
| `$idx`       | æ ‡ç­¾é¡µç´¢å¼•ï¼ˆä» 1 å¼€å§‹ï¼‰| `3`                                           |
| `$date`      | æœ¬åœ°æ—¥æœŸ (YYYY-MM-DD)  | `2025-01-12`                                  |
| `$time`      | æœ¬åœ°æ—¶é—´ (HH:MM:SS)    | `14:03:55`                                    |
| `$date(utc)` | UTC æ—¥æœŸ               | `2025-01-12`                                  |
| `$time(utc)` | UTC æ—¶é—´               | `05:03:55`                                    |
| `$nl`        | æ’å…¥æ¢è¡Œç¬¦             | *(åœ¨è¾“å‡ºä¸­ç”Ÿæˆæ¢è¡Œ)*                          |

> âš ï¸ **å…³äº `$nl` çš„æ³¨æ„äº‹é¡¹**ï¼š`$nl` æ ‡è®°å¯ç”¨äº**å¤åˆ¶**è‡ªå®šä¹‰æ¨¡æ¿ä¸­ï¼Œä»¥åœ¨ç”Ÿæˆçš„æ–‡æœ¬ä¸­æ’å…¥æ¢è¡Œç¬¦ã€‚ä½†æ˜¯ï¼Œå®ƒåœ¨**ä»æ–‡æœ¬æ‰“å¼€**ä¾§çš„è‡ªå®šä¹‰æ¨¡æ¿ä¸­**ä¸å—æ”¯æŒ**ï¼Œå› ä¸ºè¯¥åŠŸèƒ½é€è¡Œå¤„ç†è¾“å…¥ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å°†åœ¨å¤åˆ¶ä¾§ä½¿ç”¨ `$nl` çš„æ¨¡æ¿é‡æ–°ç”¨ä½œæ‰“å¼€è‡ªå®šä¹‰æ¨¡æ¿ï¼Œå®ƒå°†ä¸ä¼šä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œã€‚å¦‚æœæ‚¨å¸Œæœ›å¤åˆ¶å’Œæ‰“å¼€å…±äº«åŒä¸€æ¨¡æ¿ï¼Œè¯·åœ¨æ‰“å¼€æ¨¡æ¿ä¸­é¿å…ä½¿ç”¨ `$nl`ï¼Œæˆ–ä½¿ç”¨**æ™ºèƒ½ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰**æ¨¡å¼ã€‚

> âš ï¸ **å…³äº `$title(html)` çš„æ³¨æ„äº‹é¡¹**ï¼š`$title(html)` æ ‡è®°ä»…åœ¨**å¤åˆ¶**è‡ªå®šä¹‰æ¨¡æ¿ä¸­å—æ”¯æŒã€‚å®ƒç”¨äºåœ¨ç”Ÿæˆçš„æ–‡æœ¬ä¸­æ’å…¥ HTML è½¬ä¹‰çš„é¡µé¢æ ‡é¢˜ã€‚å®ƒåœ¨**ä»æ–‡æœ¬æ‰“å¼€**ä¾§çš„è‡ªå®šä¹‰æ¨¡æ¿ä¸­**ä¸å—æ”¯æŒ**ã€‚å¦‚æœæ‚¨å°†åŒ…å« `$title(html)` çš„æ¨¡æ¿é‡æ–°ç”¨ä½œæ‰“å¼€è‡ªå®šä¹‰æ¨¡æ¿ï¼Œæ­¤æ ‡è®°å°†ä¸ä¼šè¢«å¤„ç†ã€‚å¯¹äºæ‰“å¼€æ¨¡æ¿ï¼Œè¯·æ”¹ç”¨ `$title`ã€‚

### ä¸Šé¢ä½¿ç”¨çš„ç¤ºä¾‹ URL å’Œæ ‡é¢˜

ä¸ºäº†å±•ç¤ºæ ‡è®°å¦‚ä½•å±•å¼€ï¼Œè¿™äº›ç¤ºä¾‹ä½¿ç”¨ï¼š

ğŸ“˜ **æ ‡é¢˜**

```text
Why the Moon?
```

ğŸ”— **URL**

```text
https://www.youtube.com/watch?v=bmC-FwibsZg
```

ä»æ­¤ URLï¼š

* `$domain` â†’ `www.youtube.com`
* `$path` â†’ `/watch`
* `$basename` â†’ `watch`
* `$v` (æŸ¥è¯¢å‚æ•°) â†’ `bmC-FwibsZg`

æ—¥æœŸå’Œæ—¶é—´æ˜¯ç¤ºä¾‹ï¼›å®é™…è¾“å‡ºå–å†³äºæ‚¨çš„ç³»ç»Ÿæ—¶é’Ÿã€‚

## 2. æŸ¥è¯¢å‚æ•°æ ‡è®°

SmartURLs å¯ä»¥ç›´æ¥ä» URL ä¸­æå–æŸ¥è¯¢å‚æ•°ã€‚

ğŸ”¤ **è¯­æ³•**

```text
$<param>
```

ğŸ“„ **ç¤ºä¾‹**

URL:

```text
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

| æ ‡è®° | è¾“å‡º          |
| ---- | ------------- |
| `$v` | `bmC-FwibsZg` |
| `$t` | `123`         |

å¦‚æœå‚æ•°ä¸å­˜åœ¨ï¼Œå…¶å€¼å°†å˜ä¸ºç©ºå­—ç¬¦ä¸²ã€‚

> âš ï¸ **å…³äºæŸ¥è¯¢å‚æ•°æ ‡è®°çš„æ³¨æ„äº‹é¡¹**ï¼šæŸ¥è¯¢å‚æ•°æ ‡è®°ï¼ˆå¦‚ `$v`ã€`$id`ã€`$tag` ç­‰ï¼‰ä»…åœ¨**å¤åˆ¶**è‡ªå®šä¹‰æ¨¡æ¿ä¸­è¿›è¡Œè¯„ä¼°ã€‚å®ƒä»¬å…è®¸æ‚¨åœ¨å¤åˆ¶è¾“å‡ºä¸­æ’å…¥æˆ–æ ¼å¼åŒ–ä» URL æŸ¥è¯¢å­—ç¬¦ä¸²è·å–çš„å€¼ã€‚è¿™äº›æ ‡è®°åœ¨**ä»æ–‡æœ¬æ‰“å¼€**ä¾§çš„è‡ªå®šä¹‰æ¨¡æ¿ä¸­**ä¸ä¼šè¢«è¯„ä¼°**ã€‚ä»æ–‡æœ¬æ‰“å¼€è‡ªå®šä¹‰æ¨¡æ¿ä¸ä¼šè¯»å–æˆ–è¿‡æ»¤æŸ¥è¯¢å‚æ•°ï¼›å®ƒä»¬ä»…ä½¿ç”¨æ¨¡å¼åœ¨ç²˜è´´çš„æ–‡æœ¬ä¸­å®šä½ `$url`ã€‚

## 3. æ¡ä»¶å—

æ¡ä»¶å—å…è®¸æ¨¡æ¿**ä»…åœ¨å­˜åœ¨ç‰¹å®šæŸ¥è¯¢å‚æ•°æ—¶**è¾“å‡ºæŸäº›æ–‡æœ¬ã€‚

ğŸ”¤ **è¯­æ³•**

ğŸ”¹ **å•ä¸ªå‚æ•°**

```text
{% raw %}{{q=v: ... }}{% endraw %}
```

ğŸ”¸ **å¤šä¸ªå‚æ•°ï¼ˆAND æ¡ä»¶ï¼‰**

```text
{% raw %}{{q=v,t: ... }}{% endraw %}
```

åœ¨æ¡ä»¶å—å†…ï¼š

* `$v`ã€`$t` ç­‰æ­£å¸¸å±•å¼€
* `$nl`ã€`$title`ã€`$domain` ä¹Ÿå¯ä»¥ä½¿ç”¨
* ä¸å…è®¸åµŒå¥—å—
* æ²¡æœ‰ `else` å¯ç”¨

å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œæ•´ä¸ªå—å°†ä»è¾“å‡ºä¸­åˆ é™¤ã€‚

> âš ï¸ **å…³äºæ¡ä»¶å—çš„æ³¨æ„äº‹é¡¹**ï¼šæ¡ä»¶å—ï¼ˆå¦‚ `{{q=v: ...}}` æˆ– `{{q=v,t: ...}}`ï¼‰ä»…åœ¨**å¤åˆ¶**è‡ªå®šä¹‰æ¨¡æ¿ä¸­å—æ”¯æŒã€‚å®ƒä»¬å…è®¸æ‚¨æ ¹æ® URL æŸ¥è¯¢å‚æ•°åŒ…å«æˆ–æ’é™¤éƒ¨åˆ†è¾“å‡ºã€‚æ¡ä»¶å—åœ¨**ä»æ–‡æœ¬æ‰“å¼€**ä¾§çš„è‡ªå®šä¹‰æ¨¡æ¿ä¸­**ä¸å—æ”¯æŒ**ã€‚ä»æ–‡æœ¬æ‰“å¼€æ¨¡æ¿ä¸ä¼šè¯„ä¼°è¿™äº›æ¡ä»¶ï¼Œä¹Ÿæ— æ³•æ ¹æ®å®ƒä»¬è¿‡æ»¤è¦æ‰“å¼€çš„ URLã€‚å¦‚æœæ‚¨éœ€è¦æ§åˆ¶è¦æ‰“å¼€å“ªäº› URLï¼Œè¯·åœ¨æºæ–‡æœ¬ä¸­ä½¿ç”¨è¿‡æ»¤ï¼Œæˆ–æ”¹ç”¨**æ™ºèƒ½ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰**æ¨¡å¼ã€‚

## 4. æ¨¡æ¿ç¤ºä¾‹å’Œæ¨¡å¼

æ¨¡æ¿å†™æˆ*ä¸€è¡Œ*ï¼Œä½†å¯ä»¥é€šè¿‡ `$nl` è¾“å‡ºå¤šè¡Œã€‚

æœ¬èŠ‚ä¸­ä½¿ç”¨çš„ç¤ºä¾‹ URL å’Œæ ‡é¢˜ï¼š

ğŸ“˜ **æ ‡é¢˜**

```text
Why the Moon?
```

ğŸ”— **URL**

```text
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.1 Markdown: æ ‡é¢˜ + URL

ğŸ›  **æ¨¡æ¿**

```template
$title$nl$url
```

ğŸ’¬ **è¾“å‡º**

```output
Why the Moon?
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.2 Markdown åˆ—è¡¨é¡¹

ğŸ›  **æ¨¡æ¿**

```template
- [$title]($url)
```

ğŸ’¬ **è¾“å‡º**

```output
- [Why the Moon?](https://www.youtube.com/watch?v=bmC-FwibsZg&t=123)
```

### 4.3 YouTube è§†é¢‘ IDï¼ˆä»…åœ¨å­˜åœ¨æ—¶ï¼‰

ğŸ›  **æ¨¡æ¿**

```template
{% raw %}{{q=v:Video ID: $v$nl}}{% endraw %}$title$nl$url
```

ğŸ’¬ **è¾“å‡º**

```output
Video ID: bmC-FwibsZg
Why the Moon?
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

å¦‚æœç¼ºå°‘ `v=`ï¼š

```output
Why the Moon?
https://example.com/page
```

### 4.4 ç”Ÿæˆ YouTube ç¼©ç•¥å›¾ URL

åŸºäºå·²çŸ¥çš„ YouTube ç¼©ç•¥å›¾æ¨¡å¼ï¼š

```text
https://img.youtube.com/vi/VIDEO_ID/maxresdefault.jpg
```

ğŸ›  **æ¨¡æ¿**

```template
{% raw %}{{q=v:Thumbnail: https://img.youtube.com/vi/$v/maxresdefault.jpg$nl}}{% endraw %}$title$nl$url
```

ğŸ’¬ **è¾“å‡º**

```output
Thumbnail: https://img.youtube.com/vi/bmC-FwibsZg/maxresdefault.jpg
Why the Moon?
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.5 åµŒå…¥ YouTube ç¼©ç•¥å›¾ (Markdown)

ğŸ›  **æ¨¡æ¿**

```template
{% raw %}{{q=v:![thumb](https://img.youtube.com/vi/$v/mqdefault.jpg)$nl}}{% endraw %}[$title]($url)
```

ğŸ’¬ **è¾“å‡º**

```output
![thumb](https://img.youtube.com/vi/bmC-FwibsZg/mqdefault.jpg)
[Why the Moon?](https://www.youtube.com/watch?v=bmC-FwibsZg&t=123)
```

### 4.6 æ—¶é—´æˆ³ï¼ˆå¦‚æœå¯ç”¨ï¼‰

ğŸ›  **æ¨¡æ¿**

```template
{% raw %}{{q=t:Timestamp: $t sec$nl}}{% endraw %}$title$nl$url
```

ğŸ’¬ **è¾“å‡º**

```output
Timestamp: 123 sec
Why the Moon?
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.7 å¤šå‚æ•°æ¡ä»¶

ğŸ›  **æ¨¡æ¿**

```template
{% raw %}{{q=v,t:Video: $v ($t sec)$nl}}{% endraw %}$url
```

ğŸ’¬ **è¾“å‡º**

```output
Video: bmC-FwibsZg (123 sec)
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.8 æ—¥å¿—æ ¼å¼ï¼ˆåŸŸå + è·¯å¾„ï¼‰

ğŸ›  **æ¨¡æ¿**

```template
[$domain] $path$nl$url
```

ğŸ’¬ **è¾“å‡º**

```output
[www.youtube.com] /watch
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.9 æ–‡ä»¶åæ ·å¼æ ‡é¢˜

ğŸ›  **æ¨¡æ¿**

```template
## $basename: $title$nl$url
```

ğŸ’¬ **è¾“å‡º**

```output
## watch: Why the Moon?
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.10 æç®€ä¸»ä¹‰

ğŸ›  **æ¨¡æ¿**

```template
$title â€” $url
```

ğŸ’¬ **è¾“å‡º**

```output
Why the Moon? â€” https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
```

### 4.11 æ¯æ—¥æ—¥å¿—æ¡ç›®

ğŸ›  **æ¨¡æ¿**

```template
- [$title]($url) â€” $date $time
```

ğŸ’¬ **è¾“å‡º**

```output
- [Why the Moon?](https://www.youtube.com/watch?v=bmC-FwibsZg&t=123) â€” 2025-01-12 14:03:55
```

### 4.12 å¸¦åˆ†éš”ç¬¦çš„å¤šè¡Œ

ğŸ›  **æ¨¡æ¿**

```template
$title$nl$url$nl---$nl$domain
```

ğŸ’¬ **è¾“å‡º**

```output
Why the Moon?
https://www.youtube.com/watch?v=bmC-FwibsZg&t=123
---
www.youtube.com
```

## 5. é™åˆ¶

SmartURLs æœ‰æ„ä¿æŒç®€å•ã€‚

âŒ SmartURLs `ä¸ä¼š`ï¼š

* è§£æç½‘é¡µå†…å®¹ï¼ˆSmartURLs æ²¡æœ‰è®¿é—®æˆ–è¯»å– HTML é¡µé¢çš„æƒé™ï¼‰
* è¯»å–å…ƒæ•°æ®æˆ–ç¼©ç•¥å›¾
* åœ¨é¡µé¢ä¸Šæ‰§è¡Œ JavaScript
* æå– OG æ ‡ç­¾ã€ä½œè€…æˆ–æè¿°
* æ”¯æŒåµŒå¥—æ¡ä»¶æˆ– `else`

âœ”ï¸ SmartURLs `ä»…`ä½¿ç”¨ï¼š

* æ ‡ç­¾é¡µæ ‡é¢˜
* URL ç»„ä»¶
* æŸ¥è¯¢å‚æ•°
* ç®€å•çš„æ ‡è®°æ›¿æ¢
* å¯é€‰çš„æ¡ä»¶å—

è¿™ç¡®ä¿äº†åœ¨æ‰€æœ‰ç½‘ç«™ä¸Šçš„ä¸€è‡´è¡Œä¸ºã€‚

## 6. ç‰ˆæœ¬å…¼å®¹æ€§

è¿™äº›åŠŸèƒ½é€‚ç”¨äºï¼š**SmartURLs v1.4.0 åŠæ›´é«˜ç‰ˆæœ¬**

## 7. åé¦ˆ

å¦‚æœ‰åŠŸèƒ½è¯·æ±‚æˆ–é—®é¢˜ï¼Œè¯·åœ¨ GitHub ä¸Šå¼€ issueï¼š

<https://github.com/isshiki/SmartURLs/issues>
